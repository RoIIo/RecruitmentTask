{"ast":null,"code":"import _asyncToGenerator from \"C:/ZadanieRekrutacyjne/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nimport * as i2 from \"@angular/common\";\n\nfunction AppComponent_option_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const cat_r1 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", cat_r1, \" \");\n  }\n}\n\nexport class AppComponent {\n  constructor(http) {\n    this.http = http;\n    this.title = 'ZadanieRekrutacyjne';\n    this.urlJokesLimited = 'http://api.icndb.com/jokes/random?limitTo=';\n    this.urlJokes = 'http://api.icndb.com/jokes/random';\n    this.urlCategories = 'http://api.icndb.com/categories';\n    this.categories = [\"None\"];\n    this.joke = \"\";\n    this.impersonate = \"Chuck Norris\";\n    this.counter = 0;\n    this.jokeslist = \"\";\n    this.http.get(this.urlJokes).toPromise().then(data => {\n      this.joke = \"\\\"\" + Object.values(data)[1].joke + \"\\\"\";\n    });\n    this.http.get(this.urlCategories).toPromise().then(data => {\n      for (let i in Object.values(data)[1]) {\n        this.categories.push(Object.values(data)[1][i]);\n      }\n    });\n  }\n\n  updateName(event) {\n    let tmp = event.target.value;\n    if (tmp != \"\") this.impersonate = tmp;else this.impersonate = \"Chuck Norris\";\n  }\n\n  del() {\n    if (this.counter > 0) this.counter -= 1;else this.counter = 0;\n    console.log(this.counter);\n  }\n\n  add() {\n    this.counter += 1;\n    console.log(this.counter);\n  }\n\n  saveJokes() {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      let tmp1 = \"\";\n      let flag = _this.jokeslist;\n\n      var FileSaver = require('file-saver');\n\n      for (let i = 0; i < _this.counter; i += 1) {\n        _this.http.get(_this.urlJokes).toPromise().then(data => {\n          let tmp = \"\\\"\" + Object.values(data)[1].joke + \"\\\"\" + \"\\n\";\n          tmp1 += tmp.replace(/Chuck Norris/, _this.impersonate);\n        });\n      }\n\n      while (flag == _this.jokeslist) {\n        yield new Promise(f => setTimeout(f, 1000));\n        _this.jokeslist += tmp1;\n      }\n\n      var blob = new Blob([_this.jokeslist], {\n        type: \"text/plain;charset=utf-8\"\n      });\n      FileSaver.saveAs(blob, \"Jokes.txt\");\n      _this.jokeslist = \"\";\n      _this.counter = 0;\n    })();\n  }\n\n  getJokes() {\n    let x = document.getElementById(\"categories\");\n    let sel = x.selectedIndex;\n    let opt = x.options[sel].text;\n    console.log(opt);\n\n    if (opt == \"None\") {\n      this.http.get(this.urlJokes).toPromise().then(data => {\n        let tmp = \"\\\"\" + Object.values(data)[1].joke + \"\\\"\";\n        tmp = tmp.replace(/Chuck Norris/, this.impersonate);\n        this.joke = tmp;\n      });\n    } else {\n      this.http.get(this.urlJokesLimited + \"[\" + opt + \"]\").toPromise().then(data => {\n        let tmp = \"\\\"\" + Object.values(data)[1].joke + \"\\\"\";\n        tmp = tmp.replace(/Chuck Norris/, this.impersonate);\n        this.joke = tmp;\n      });\n    }\n  }\n\n}\n\nAppComponent.ɵfac = function AppComponent_Factory(t) {\n  return new (t || AppComponent)(i0.ɵɵdirectiveInject(i1.HttpClient));\n};\n\nAppComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: AppComponent,\n  selectors: [[\"app-root\"]],\n  decls: 16,\n  vars: 4,\n  consts: [[\"id\", \"components\"], [\"id\", \"img\", \"src\", \"assets/ChuckNorris.jpg\"], [\"id\", \"joke\"], [\"name\", \"categories\", \"id\", \"categories\"], [4, \"ngFor\", \"ngForOf\"], [\"type\", \"text\", 3, \"input\"], [\"id\", \"submit\", 3, \"click\"], [\"id\", \"plusminus\"], [\"id\", \"minus\", \"src\", \"assets/minus.jpg\", 3, \"click\"], [\"id\", \"plus\", \"src\", \"assets/plus.jpg\", 3, \"click\"], [\"id\", \"save\"], [3, \"click\"]],\n  template: function AppComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0);\n      i0.ɵɵelement(1, \"img\", 1);\n      i0.ɵɵelementStart(2, \"div\", 2);\n      i0.ɵɵtext(3);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(4, \"select\", 3);\n      i0.ɵɵtemplate(5, AppComponent_option_5_Template, 2, 1, \"option\", 4);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(6, \"input\", 5);\n      i0.ɵɵlistener(\"input\", function AppComponent_Template_input_input_6_listener($event) {\n        return ctx.updateName($event);\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(7, \"button\", 6);\n      i0.ɵɵlistener(\"click\", function AppComponent_Template_button_click_7_listener() {\n        return ctx.getJokes();\n      });\n      i0.ɵɵtext(8);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(9, \"div\", 7);\n      i0.ɵɵelementStart(10, \"img\", 8);\n      i0.ɵɵlistener(\"click\", function AppComponent_Template_img_click_10_listener() {\n        return ctx.del();\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(11);\n      i0.ɵɵelementStart(12, \"img\", 9);\n      i0.ɵɵlistener(\"click\", function AppComponent_Template_img_click_12_listener() {\n        return ctx.add();\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(13, \"div\", 10);\n      i0.ɵɵelementStart(14, \"button\", 11);\n      i0.ɵɵlistener(\"click\", function AppComponent_Template_button_click_14_listener() {\n        return ctx.saveJokes();\n      });\n      i0.ɵɵtext(15, \"Save Jokes\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n    }\n\n    if (rf & 2) {\n      i0.ɵɵadvance(3);\n      i0.ɵɵtextInterpolate(ctx.joke);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngForOf\", ctx.categories);\n      i0.ɵɵadvance(3);\n      i0.ɵɵtextInterpolate1(\"Draw a \", ctx.impersonate, \" joke\");\n      i0.ɵɵadvance(3);\n      i0.ɵɵtextInterpolate1(\" \", ctx.counter, \" \");\n    }\n  },\n  directives: [i2.NgForOf],\n  styles: [\"var[_ngcontent-%COMP%]   resource[_ngcontent-%COMP%];\\n (()[_ngcontent-%COMP%]   =[_ngcontent-%COMP%] >  { // webpackBootstrap\\n \\tvar __webpack_modules__ = ({\\n\\n 249:\\n\\n (() => {\\n\\nthrow new Error(\\\"Module build failed (from ./node_modules/postcss-loader/dist/cjs.js):\\\\nSyntaxError\\\\n\\\\n(37:18) C:\\\\\\\\ZadanieRekrutacyjne\\\\\\\\src\\\\\\\\app\\\\\\\\app.component.css Unexpected }\\\\n\\\\n \\\\u001b[90m 35 | \\\\u001b[39m    padding-left\\\\u001b[33m:\\\\u001b[39m 25%\\\\u001b[33m;\\\\u001b[39m\\\\n \\\\u001b[90m 36 | \\\\u001b[39mpadding-right\\\\u001b[33m:\\\\u001b[39m 25%\\\\u001b[33m;\\\\u001b[39m\\\\n\\\\u001b[1m\\\\u001b[31m>\\\\u001b[39m\\\\u001b[22m\\\\u001b[90m 37 | \\\\u001b[39mpadding-top\\\\u001b[33m:\\\\u001b[39m 5%\\\\u001b[33m;\\\\u001b[39m\\\\u001b[33m}\\\\u001b[39m\\\\u001b[33m}\\\\u001b[39m\\\\n \\\\u001b[90m    | \\\\u001b[39m                 \\\\u001b[1m\\\\u001b[31m^\\\\u001b[39m\\\\u001b[22m\\\\n \\\\u001b[90m 38 | \\\\u001b[39m\\\\u001b[35m#minus\\\\u001b[39m \\\\u001b[33m{\\\\u001b[39m width\\\\u001b[33m:\\\\u001b[39m 50px\\\\u001b[33m;\\\\u001b[39m\\\\n \\\\u001b[90m 39 | \\\\u001b[39m          height\\\\u001b[33m:\\\\u001b[39m  auto\\\\u001b[33m;\\\\u001b[39m\\\\n\\\");\\n\\n })\\n\\n \\t});\\n\\n \\t\\n \\t// startup\\n \\t// Load entry module and return exports\\n \\t// This entry module doesn't tell about it's top-level declarations so it can't be inlined\\n \\tvar __webpack_exports__ = {};\\n \\t__webpack_modules__[249]();\\n \\tresource = __webpack_exports__;\\n \\t\\n })()\\n;\\n/*# sourceMappingURL=app.component.css.map*/\"]\n});","map":{"version":3,"sources":["C:\\ZadanieRekrutacyjne\\src\\app\\app.component.ts","C:\\ZadanieRekrutacyjne\\src\\app\\app.component.html"],"names":[],"mappings":"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","sourcesContent":["import { jsDocComment } from '@angular/compiler';\nimport { Content } from '@angular/compiler/src/render3/r3_ast';\nimport { Component } from '@angular/core';\nimport {HttpClient} from '@angular/common/http';\nimport { saveAs } from 'file-saver';\nimport { resolve } from 'url';\nimport { SelectMultipleControlValueAccessor } from '@angular/forms';\n\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.css']\n})\nexport class AppComponent {\n  title = 'ZadanieRekrutacyjne';\n  urlJokesLimited = 'http://api.icndb.com/jokes/random?limitTo='\n  urlJokes = 'http://api.icndb.com/jokes/random';\n  urlCategories = 'http://api.icndb.com/categories';\n  categories: string[] = [\"None\"];\n  joke: string  =\"\"\n  impersonate: string = \"Chuck Norris\"\n  counter:number = 0\n  jokeslist:string = \"\"\n  constructor(private http: HttpClient)\n  {\n    this.http.get(this.urlJokes).toPromise().then(data =>{\n      this.joke = \"\\\"\" + Object.values(data)[1].joke + \"\\\"\"\n    })\n\n    this.http.get(this.urlCategories).toPromise().then(data =>{\n      for( let i in Object.values(data)[1])\n      {\n        this.categories.push(Object.values(data)[1][i])\n      }\n  })\n}\n  updateName(event:any)\n  {\n    let tmp = event.target.value\n    if(tmp != \"\")\n      this.impersonate= tmp\n\n    else\n      this.impersonate= \"Chuck Norris\"\n\n  }\n  del()\n  {\n    if(this.counter>0)\n      this.counter -=1\n    else\n      this.counter =0\n      console.log(this.counter)\n  }\n  add()\n  {\n    this.counter+=1\n    console.log(this.counter)\n\n  }\n   async saveJokes()\n  {\n    let tmp1:string  =\"\"\n    let flag = this.jokeslist\n    var FileSaver = require('file-saver');\n    for(let i=0 ; i<this.counter; i+=1)\n    {\n      this.http.get(this.urlJokes).toPromise().then(data =>{\n        let tmp  =\"\\\"\"+ Object.values(data)[1].joke+ \"\\\"\"+\"\\n\"\n        tmp1 += tmp.replace(/Chuck Norris/, this.impersonate)\n      })\n    }\n    while(flag == this.jokeslist)\n    {\n      await new Promise(f => setTimeout(f, 1000));\n      this.jokeslist += tmp1\n\n    }\n    var blob = new Blob([this.jokeslist], {type: \"text/plain;charset=utf-8\"});\n    FileSaver.saveAs(blob, \"Jokes.txt\");\n    this.jokeslist = \"\"\n    this.counter = 0\n  }\n  getJokes()\n  {\n    let x = document.getElementById(\"categories\") as HTMLSelectElement\n    let sel = x.selectedIndex;\n    let opt = x.options[sel].text;\n    console.log(opt)\n    if(opt == \"None\")\n    {\n        this.http.get(this.urlJokes).toPromise().then(data =>{\n        let tmp  =\"\\\"\"+ Object.values(data)[1].joke+ \"\\\"\"\n        tmp = tmp.replace(/Chuck Norris/, this.impersonate)\n        this.joke =tmp\n        })\n    }\n    else{\n        this.http.get(this.urlJokesLimited + \"[\" + opt + \"]\").toPromise().then(data =>{\n          let tmp  =\"\\\"\"+ Object.values(data)[1].joke+ \"\\\"\"\n          tmp = tmp.replace(/Chuck Norris/, this.impersonate)\n          this.joke =tmp\n        })\n    }\n  }\n}\n\n\n","<div id='components'>\n  <img id='img' src=\"assets/ChuckNorris.jpg\">\n  <div id='joke'>{{joke}}</div>\n  <select name=\"categories\" id=\"categories\">\n    <option *ngFor=\"let cat of categories\">\n       {{cat}}\n    </option>\n    </select>\n    <input type = 'text' (input) = \"updateName($event)\">\n  <button id= 'submit' (click)=\"getJokes()\">Draw a {{impersonate}} joke</button>\n  <div id = 'plusminus'>\n    <img id='minus' src=\"assets/minus.jpg\" (click)=\"del()\">\n    {{counter}}\n    <img id='plus' src=\"assets/plus.jpg\" (click)=\"add()\">\n    <div id='save'>\n      <button (click)=\"saveJokes()\">Save Jokes</button>\n    </div>\n  </div>\n</div>\n\n"],"sourceRoot":""},"metadata":{},"sourceType":"module"}